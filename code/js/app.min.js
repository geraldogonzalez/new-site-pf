let tablaInfo=document.querySelector(".tabla-standings"),mqDropdown=window.matchMedia("(max-width: 1023px)"),menu=document.querySelector(".menu li:nth-child(2)"),desplazar=0,contador=0,btnRanking=document.querySelector(".btn-ranking"),slide=document.querySelector(".slide"),tabla=document.querySelectorAll(".tabla-rank"),cards=document.querySelectorAll(".border-card .card"),contenedorBrackets=document.querySelector(".main.brackets .cards-container .round-matchs"),menuMobile=document.querySelector(".round-title-mobile"),contadorToques=0,inicioX;function cargarEventListeners(){tablaInfo&&(tablaInfo.addEventListener("click",mostrarPartidos),tablaInfo.addEventListener("click",mostrarPartidosFila),tablaInfo.addEventListener("click",mostrarPartidosTd),tablaInfo.addEventListener("click",mostrarPartidosTdChild),tablaInfo.addEventListener("click",siguiente),tablaInfo.addEventListener("click",anterior),window.addEventListener("load",acortarNombresTabla),window.addEventListener("resize",cerrarHistorial)),contenedorBrackets&&(contenedorBrackets.addEventListener("touchstart",iniciarToque),contenedorBrackets.addEventListener("touchmove",movimientoToque),contenedorBrackets.addEventListener("touchend",finalizarToque)),menuMobile&&(menuMobile.addEventListener("touchstart",desplazamientoMenu),window.addEventListener("resize",tamanioBarra)),cards&&window.addEventListener("load",acortarNombresCards),mqDropdown.matches&&menu.addEventListener("click",dropdownMenu),btnRanking&&btnRanking.addEventListener("click",tablaRank),slide&&slide.addEventListener("click",desplazarFilas),tabla&&(window.addEventListener("resize",restaurarTabla),window.addEventListener("load",acortarNombresRank))}function tamanioBarra(){let botones=document.querySelectorAll(".round-title-mobile > a"),barra=document.querySelector(".round-title-mobile span.barra");botones.forEach(boton=>{if(boton.classList.contains("active")){let pixeles=boton.offsetLeft,ancho=boton.offsetWidth;barra.style.left=pixeles+"px",barra.style.width=ancho+"px"}})}function desplazamientoMenu(e){e.preventDefault();let botones=document.querySelectorAll(".round-title-mobile > a"),barra=document.querySelector(".round-title-mobile span.barra");if(e.target.classList.contains("round-16")){let pixeles=e.target.offsetLeft,ancho=e.target.offsetWidth;contadorToques=0,botones.forEach(boton=>{boton.classList.remove("active")}),contenedorBrackets.style.left=0,barra.style.left=pixeles+"px",barra.style.width=ancho+"px",e.target.classList.add("active")}else if(e.target.classList.contains("q-final")){let pixeles=e.target.offsetLeft,ancho=e.target.offsetWidth,pantalla,margen=634-window.screen.width;contadorToques=1,margen<0&&(margen*=-1),contenedorBrackets.style.left="-"+margen+"px",barra.style.left=pixeles+"px",barra.style.width=ancho+"px",botones.forEach(boton=>{boton.classList.remove("active")}),e.target.classList.add("active")}else if(e.target.classList.contains("s-final")){let pixeles=e.target.offsetLeft,ancho=e.target.offsetWidth,pantalla,margen=634-window.screen.width;contadorToques=2,margen<0&&(margen*=-1),contenedorBrackets.style.left="-"+(margen+317)+"px",barra.style.left=pixeles+"px",barra.style.width=ancho+"px",botones.forEach(boton=>{boton.classList.remove("active")}),e.target.classList.add("active")}else if(e.target.classList.contains("final")){let pixeles=e.target.offsetLeft,ancho=e.target.offsetWidth,pantalla,margen=634-window.screen.width;contadorToques=3,margen<0&&(margen*=-1),contenedorBrackets.style.left="-"+(margen+634)+"px",barra.style.left=pixeles+"px",barra.style.width=ancho+"px",botones.forEach(boton=>{boton.classList.remove("active")}),e.target.classList.add("active")}}function iniciarToque(e){inicioX=e.touches[0].clientX}function movimientoToque(e){toque=e.touches[0],deslizamiento=inicioX-toque.clientX,deslizamiento}function finalizarToque(e){let deslizamiento=inicioX-e.changedTouches[0].clientX,pantalla=window.screen.width,botones=document.querySelectorAll(".round-title-mobile > a"),barra=document.querySelector(".round-title-mobile span.barra");if(!(window.screen.width>1023))if(deslizamiento<-50){if(3===contadorToques){let ancho=botones[2].offsetWidth,pixeles=botones[2].offsetLeft,pantalla,margen=634-window.screen.width;margen<0&&(margen*=-1),contenedorBrackets.style.left="-"+(margen+317)+"px",botones.forEach(boton=>{boton.classList.remove("active")}),botones[2].classList.add("active"),barra.style.left=pixeles+"px",barra.style.width=ancho+"px",contadorToques=2}else if(2===contadorToques){let ancho=botones[1].offsetWidth,pixeles=botones[1].offsetLeft,pantalla,margen=634-window.screen.width;margen<0&&(margen*=-1),contenedorBrackets.style.left="-"+margen+"px",botones.forEach(boton=>{boton.classList.remove("active")}),botones[1].classList.add("active"),barra.style.left=pixeles+"px",barra.style.width=ancho+"px",contadorToques=1}else if(1===contadorToques){let ancho=botones[0].offsetWidth,pixeles=botones[0].offsetLeft;contenedorBrackets.style.left=0,botones.forEach(boton=>{boton.classList.remove("active")}),botones[0].classList.add("active"),barra.style.left=pixeles+"px",barra.style.width=ancho+"px",contadorToques=0}else if(0===contadorToques)return}else if(deslizamiento>50)if(0===contadorToques){let ancho=botones[1].offsetWidth,pixeles=botones[1].offsetLeft,pantalla,margen=634-window.screen.width;margen<0&&(margen*=-1),contenedorBrackets.style.left="-"+margen+"px",botones.forEach(boton=>{boton.classList.remove("active")}),botones[1].classList.add("active"),barra.style.left=pixeles+"px",barra.style.width=ancho+"px",contadorToques=1}else if(1===contadorToques){let ancho=botones[2].offsetWidth,pixeles=botones[2].offsetLeft,pantalla,margen=634-window.screen.width;margen<0&&(margen*=-1),contenedorBrackets.style.left="-"+(margen+317)+"px",botones.forEach(boton=>{boton.classList.remove("active")}),botones[2].classList.add("active"),barra.style.left=pixeles+"px",barra.style.width=ancho+"px",contadorToques=2}else if(2===contadorToques){let ancho=botones[3].offsetWidth,pixeles=botones[3].offsetLeft,pantalla,margen=634-window.screen.width;margen<0&&(margen*=-1),contenedorBrackets.style.left="-"+(margen+634)+"px",botones.forEach(boton=>{boton.classList.remove("active")}),botones[3].classList.add("active"),barra.style.left=pixeles+"px",barra.style.width=ancho+"px",contadorToques=3}else if(3===contadorToques)return}if(cargarEventListeners(),tablaInfo)function cerrarHistorial(){let filas;document.querySelectorAll(".tabla-standings tbody .player-info").forEach(fila=>{desplazar=0,fila.classList.remove("mostrar"),fila.classList.add("ocultar"),fila.lastElementChild.previousElementSibling.lastElementChild.classList.remove("open"),fila.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("mostrando"),fila.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.add("oculto"),fila.lastElementChild.scrollLeft="0",fila.lastElementChild.classList.remove("mostrar"),fila.lastElementChild.lastElementChild.classList.remove("active"),fila.lastElementChild.lastElementChild.previousElementSibling.classList.remove("active")})}function mostrarPartidos(e){if(e.target.classList.contains("oculto")){cerrarHistorial(),desplazar=0;let btnInfo=e.target.parentElement,playerInfo=e.target.parentElement.parentElement.parentElement,playerHistory=e.target.parentElement.parentElement.parentElement.childNodes[17],siguiente=e.target.parentElement.parentElement.parentElement.childNodes[17].childNodes[15];btnInfo.classList.add("open"),e.target.classList.add("mostrando"),playerInfo.classList.add("mostrar"),playerInfo.classList.remove("ocultar"),e.target.classList.remove("oculto"),setTimeout((function(){playerHistory.classList.add("mostrar"),siguiente.classList.add("active")}),300)}else if(e.target.classList.contains("mostrando")){let btnInfo=e.target.parentElement,playerInfo=e.target.parentElement.parentElement.parentElement,playerHistory=e.target.parentElement.parentElement.parentElement.childNodes[17],siguiente=e.target.parentElement.parentElement.parentElement.childNodes[17].childNodes[15];e.target.classList.add("oculto"),btnInfo.classList.remove("open"),e.target.classList.remove("mostrar"),playerHistory.classList.remove("mostrar"),setTimeout((function(){siguiente.classList.remove("active"),playerInfo.classList.remove("mostrar"),playerInfo.classList.add("ocultar")}),300)}}function mostrarPartidosFila(e){e.target.classList.contains("ocultar")?(cerrarHistorial(),e.target.lastElementChild.previousElementSibling.lastElementChild.classList.add("open"),e.target.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("oculto"),e.target.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.add("mostrando"),e.target.lastElementChild.lastElementChild.classList.remove("active"),setTimeout((function(){e.target.lastElementChild.classList.add("mostrar"),e.target.lastElementChild.lastElementChild.previousElementSibling.classList.add("active")}),300),e.target.classList.remove("ocultar"),e.target.classList.add("mostrar")):e.target.classList.contains("mostrar")&&(e.target.lastElementChild.previousElementSibling.lastElementChild.classList.remove("open"),e.target.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("mostrando"),e.target.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("oculto"),e.target.lastElementChild.classList.remove("mostrar"),setTimeout((function(){e.target.lastElementChild.lastElementChild.classList.remove("active"),e.target.lastElementChild.lastElementChild.previousElementSibling.classList.remove("active"),e.target.classList.remove("mostrar"),e.target.classList.add("ocultar")}),300))}function mostrarPartidosTd(e){e.target.parentElement.classList.contains("ocultar")?(cerrarHistorial(),e.target.parentElement.lastElementChild.previousElementSibling.lastElementChild.classList.add("open"),e.target.parentElement.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("oculto"),e.target.parentElement.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.add("mostrando"),e.target.parentElement.lastElementChild.lastElementChild.classList.remove("active"),setTimeout((function(){e.target.parentElement.lastElementChild.classList.add("mostrar"),e.target.parentElement.lastElementChild.lastElementChild.previousElementSibling.classList.add("active")}),300),e.target.parentElement.classList.remove("ocultar"),e.target.parentElement.classList.add("mostrar")):e.target.parentElement.classList.contains("mostrar")&&(e.target.parentElement.lastElementChild.previousElementSibling.lastElementChild.classList.remove("open"),e.target.parentElement.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("mostrando"),e.target.parentElement.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("oculto"),e.target.parentElement.lastElementChild.classList.remove("mostrar"),setTimeout((function(){e.target.parentElement.lastElementChild.lastElementChild.classList.remove("active"),e.target.parentElement.lastElementChild.lastElementChild.previousElementSibling.classList.remove("active"),e.target.parentElement.classList.remove("mostrar"),e.target.parentElement.classList.add("ocultar")}),300))}function mostrarPartidosTdChild(e){e.target.parentElement.parentElement.classList.contains("ocultar")?(cerrarHistorial(),e.target.parentElement.parentElement.lastElementChild.previousElementSibling.lastElementChild.classList.add("open"),e.target.parentElement.parentElement.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("oculto"),e.target.parentElement.parentElement.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.add("mostrando"),e.target.parentElement.parentElement.lastElementChild.lastElementChild.classList.remove("active"),setTimeout((function(){e.target.parentElement.parentElement.lastElementChild.classList.add("mostrar"),e.target.parentElement.parentElement.lastElementChild.lastElementChild.previousElementSibling.classList.add("active")}),300),e.target.parentElement.parentElement.classList.remove("ocultar"),e.target.parentElement.parentElement.classList.add("mostrar")):e.target.parentElement.parentElement.classList.contains("mostrar")&&(e.target.parentElement.parentElement.lastElementChild.previousElementSibling.lastElementChild.classList.remove("open"),e.target.parentElement.parentElement.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("mostrando"),e.target.parentElement.parentElement.lastElementChild.previousElementSibling.lastElementChild.lastElementChild.classList.remove("oculto"),e.target.parentElement.parentElement.lastElementChild.classList.remove("mostrar"),setTimeout((function(){e.target.parentElement.parentElement.lastElementChild.lastElementChild.classList.remove("active"),e.target.parentElement.parentElement.lastElementChild.lastElementChild.previousElementSibling.classList.remove("active"),e.target.parentElement.parentElement.classList.remove("mostrar"),e.target.parentElement.parentElement.classList.add("ocultar")}),300))}function siguiente(e){let filas=document.querySelectorAll(".player-info");if(e.target.classList.contains("fa-chevron-right")){let contenedorSlide;desplazar+=1,e.target.parentElement.parentElement.scrollLeft+=340,desplazar>=1&&e.target.parentElement.nextSibling.nextSibling.classList.add("active"),window.matchMedia("(max-width: 1499px)").matches?desplazar>=4&&e.target.parentElement.classList.remove("active"):desplazar>=3&&e.target.parentElement.classList.remove("active")}}function anterior(e){if(e.target.classList.contains("fa-chevron-left")){desplazar-=1,e.target.parentElement.previousSibling.previousSibling.classList.add("active");let contenedorSlide=e.target.parentElement.parentElement;contenedorSlide.scrollLeft=contenedorSlide.scrollLeft-340,desplazar<=0&&e.target.parentElement.classList.remove("active")}}function dropdownMenu(e){e.preventDefault(),e.target.classList.contains("dropdown-off")?(e.target.classList.add("dropdown-on"),e.target.classList.remove("dropdown-off")):e.target.classList.contains("dropdown-on")?(e.target.classList.add("dropdown-off"),e.target.classList.remove("dropdown-on")):e.target.parentElement.classList.contains("dropdown-off")?(e.target.parentElement.classList.add("dropdown-on"),e.target.parentElement.classList.remove("dropdown-off")):e.target.parentElement.classList.contains("dropdown-on")?(e.target.parentElement.classList.add("dropdown-off"),e.target.parentElement.classList.remove("dropdown-on")):e.target.parentElement.parentElement.classList.contains("dropdown-off")?(e.target.parentElement.parentElement.classList.add("dropdown-on"),e.target.parentElement.parentElement.classList.remove("dropdown-off")):e.target.parentElement.parentElement.classList.contains("dropdown-on")&&(e.target.parentElement.parentElement.classList.add("dropdown-off"),e.target.parentElement.parentElement.classList.remove("dropdown-on"))}function tablaRank(e){const tablaXbox=document.querySelector(".tabla-rank.xbox"),tablaPs4=document.querySelector(".tabla-rank.ps4"),rankXbox=document.querySelector(".rank-consola.xbox"),rankPs4=document.querySelector(".rank-consola.ps4"),filas=document.querySelectorAll(".player-info");e.target.classList.contains("btn-ps4")?(filas.forEach(fila=>{fila.classList.remove("derecha"),fila.classList.remove("izquierda"),document.querySelector(".slide .izquierda").classList.remove("active"),document.querySelector(".slide .derecha").classList.add("active")}),e.target.classList.add("active"),e.target.parentElement.lastChild.previousSibling.classList.remove("active"),rankXbox.classList.remove("active"),tablaXbox.classList.remove("active"),rankXbox.classList.add("inactive"),tablaXbox.classList.add("inactive"),tablaPs4.classList.remove("inactive"),tablaPs4.classList.add("active"),rankPs4.classList.add("active")):e.target.classList.contains("btn-xbox")&&(filas.forEach(fila=>{fila.classList.remove("derecha"),fila.classList.remove("izquierda"),document.querySelector(".slide .izquierda").classList.remove("active"),document.querySelector(".slide .derecha").classList.add("active")}),e.target.classList.add("active"),e.target.parentElement.firstChild.nextSibling.classList.remove("active"),rankPs4.classList.remove("active"),tablaPs4.classList.remove("active"),rankPs4.classList.add("inactive"),tablaPs4.classList.add("inactive"),tablaXbox.classList.remove("inactive"),tablaXbox.classList.add("active"),rankXbox.classList.add("active"))}function desplazarFilas(e){const filas=document.querySelectorAll(".player-info");e.target.classList.contains("izquierda")?filas.forEach(fila=>{fila.classList.remove("derecha"),fila.classList.add("izquierda"),e.target.parentElement.firstChild.nextSibling.classList.remove("active"),e.target.classList.add("active")}):e.target.classList.contains("derecha")&&filas.forEach(fila=>{fila.classList.remove("izquierda"),fila.classList.add("derecha"),e.target.parentElement.lastChild.previousSibling.classList.remove("active"),e.target.classList.add("active")})}function restaurarTabla(){let filas=document.querySelectorAll(".player-info"),pantalla;window.matchMedia("(min-width: 680px)").matches&&filas.forEach(fila=>{fila.classList.remove("derecha"),fila.classList.remove("izquierda"),document.querySelector(".slide .izquierda").classList.remove("active"),document.querySelector(".slide .derecha").classList.add("active")})}function acortarNombresRank(){const nombres=document.querySelectorAll(".player-info td .player span");nombres.forEach(nombre=>{nombre.childNodes[0].data.length>=15&&(nombre.childNodes[0].data=nombre.childNodes[0].data.substr(0,12)+"...")})}function acortarNombresTabla(){const nombres=document.querySelectorAll(".player-info td:first-child span.NimbusSanCon-Bol");nombres.forEach(nombre=>{nombre.childNodes[0].data=nombre.childNodes[0].data.trim(),nombre.childNodes[0].data.length>=15&&(nombre.childNodes[0].data=nombre.childNodes[0].data.substr(0,12)+"...")})}function acortarNombresCards(){const nombresCards=document.querySelectorAll(".border-card .card .nation-nick .nick p"),nombresTeam=document.querySelectorAll(".border-card .card .players-info-games .player .team");nombresCards.forEach(nombreCard=>{nombreCard.childNodes[0].data=nombreCard.childNodes[0].data.trim(),nombreCard.childNodes[0].data.length>=15&&(nombreCard.childNodes[0].data=nombreCard.childNodes[0].data.substr(0,12)+"...",console.log("Acortados"))}),nombresTeam.forEach(nombreTeam=>{nombreTeam.childNodes[0].data=nombreTeam.childNodes[0].data.trim(),nombreTeam.childNodes[0].data.length>=20&&(nombreTeam.childNodes[0].data=nombreTeam.childNodes[0].data.substr(0,17)+"...",console.log("Acortados"))})}